<div ng-controller="adminErrorLogsCotroller" id="RegisterPage">
	<link href="/app/css/register.css" rel="stylesheet">
	<link href="/app/css/record.css" rel="stylesheet">

	<span register-top-menu></span>

	<div class="register-content card card-1-notrans">

		<div class="register-content-header bg-pink color-white">
			<div style="padding:10px 10px;">
				<h3> Admin Pending Requests</h3>
			</div>
		</div>
		<div class="register-content-content">

			<legend name="formInfo" style="display:none"></legend>
			<!--<div style="font-weight:bold;">Records which have been not approved since 12 weeks.</div>-->
			<div class="registerpage-content">

				<div class="alert alert-danger" ng-show="__error">
					<strong>Error: </strong>{{__error}}
				</div>
				<legend>Filters </legend>
				<div class="row">
					<div class="col-xs-6">
						<div class="km-control-group" name="startDate" required caption="Start Date">
							<div km-date placeholder="YYYY-MM-DD" required name="startDate" ng-model="filters.startDate"></div>
						</div>
					</div>
					<div class="col-xs-6">
						<div class="km-control-group" name="endDate" caption="End Date">
							<div km-date placeholder="YYYY-MM-DD" name="endDate" ng-model="filters.endDate"></div>
						</div>
					</div>
				</div>
				<!--<div class="row">
                    <div class="col-xs-12">
                        <div class="pull-left">                            
                            <input type="text" ng-model="keywords" placeholder=" keyword " class="form-control keyword" style="width:250px;display:inline;">
                        </div>
                    </div>
                </div>-->
				<br>
				<br>

				<div class="table " style="margin-top:15px;">

					<table class="table" infinite-scroll="loadErrors()" infinite-scroll-busy="loadingErrors" infinite-scroll-distance="100">
						<thead>
							<tr>
								<th>No.</th>
								<th>App Version</th>
								<th>Level</th>
								<th>Date</th>
								<th>Message</th>
								<th></th>
							</tr>
						</thead>
						<tbody ng-repeat="error  in errors">
							<tr>
								<td>{{$index+1}}</td>
								<td>{{error.appversion}}</td>
								<td> {{error.level}}</td>
								<td>{{error.timestamp|formatDateWithTime}}</td>
								<td> {{error.message|limitTo:300}}</td>
								<td><input type="button" ng-click="error.showDetails=!error.showDetails" value="show details"></td>
							</tr>
							<tr ng-if="error.showDetails">
								<td colspan="6">

									<figure class="highlight">
										<pre> 
                                            <span class="pull-left label label-primary">
                                                {{error.url}}
                                            </span>
                                            <span class="pull-left label label-primary">
                                                {{error.message.trim()}}
                                            </span>
                                            <span class="pull-left label label-primary">
                                                {{error.userAgent.trim()}}
                                            </span>
											<code class="language-html pull-left" data-lang="html" style="margin:0px" ng-bind-html="error.stack">
                                            </code>
										</pre>
									</figure>
								</td>
							</tr>
						</tbody>
					</table>
					<div class="alert alert-success" ng-show="errors.length==0">
						No Item is requiring your attention
					</div>
				</div>
			</div>

		</div>
	</div>
</div>